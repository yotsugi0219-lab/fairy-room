:root{
  --bg:#0f0f11; --card:#17181c; --line:#2a2d36; --fg:#f5f7fb; --muted:#9aa3ad;
  --accent:#8aa6ff;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--fg);font-family:-apple-system,BlinkMacSystemFont,"Hiragino Sans","Noto Sans JP",sans-serif}

.room{
  position:relative;
  width:min(100%, 720px);
  margin:16px auto;
  border-radius:16px;
  overflow:hidden;
  background:#2a1f17;
  aspect-ratio:16/9;   /* 背景が正方形でも綺麗に収まる */
}
.room img{position:absolute;inset:0;margin:auto;max-width:100%;max-height:100%}
.room-base{z-index:1;object-fit:cover;width:100%;height:100%}
.room-sky{z-index:2;pointer-events:none;width:38%;height:38%;left:9%;top:9%;object-fit:cover;clip-path:inset(0 round 6px)}
.frame-art{z-index:3;pointer-events:none;width:38%;height:38%;left:9%;top:9%}
.fairy{
  z-index:4; width:min(20%,128px); height:auto;
  left:50%; bottom:7%; transform:translateX(-50%);
  pointer-events:auto; position:absolute;
}

.panel{width:min(100%,720px);margin:8px auto;padding:16px;border:1px solid var(--line);background:var(--card);border-radius:16px}
.panel.status div{margin:6px 0}
.commands{display:flex;gap:12px;flex-wrap:wrap;justify-content:center}
.pill{padding:10px 18px;border-radius:18px;border:1px solid var(--line);background:#24262c;color:var(--fg)}
.pill:active{transform:translateY(1px)}
.foot{display:flex;gap:12px;align-items:center;justify-content:center}
.nuts{display:inline-flex;gap:8px;align-items:center}

.modal{position:fixed;inset:0;background:rgba(0,0,0,.45);display:flex;align-items:center;justify-content:center}
.modal-body{width:min(90%,680px);background:var(--card);border:1px solid var(--line);border-radius:14px;padding:16px}
.modal-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.mini{padding:6px 12px;border-radius:10px;background:#2a2d36;color:#fff;border:1px solid #394252}
.shop-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
.shop-grid>button{padding:10px;border:1px solid var(--line);border-radius:12px;background:#24262c;color:var(--fg)}
.note{color:var(--muted);margin:10px 0 0}
.hidden{display:none !important;}
